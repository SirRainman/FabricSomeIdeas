# 什么是私有数据集合？

如果一个通道上的某两个组织希望自己的数据不被其他的组织看到，那么这两个组织只能建立一个新的通道进行数据交互。但是建立新的通道的开销太大了，要维护链码版本，策略，MSP等。

通过引入私有数据集的方式，那么在原有通道上定义的组织子集就可以背书、提交或查询私有数据，而无需创建单独的通道。

![](./images/privatedata.png)

1. 私有数据，通过 Gossip 协议点对点地发送给授权可以看到它的组织。
   **私有数据保存在被授权的组织的节点上的私有数据库上**，它们可以被授权节点的链码访问。排序节点不能影响这里也不能看到私有数据。注意，由于 gossip 以点对点的方式向授权组织分发私有数据，所以必须设置通道上的锚节点，也就是每个节点上的 CORE_PEER_GOSSIP_EXTERNALENDPOINT 配置，以此来引导跨组织的通信。
2. 私有数据的hash值，该hash值被背书、排序之后写入通道上每个节点的账本。Hash值用作交易的，用于状态验证，并可用于审计目的。

# 什么时候使用一个通道内的组织集合，什么时候使用单独的通道

- 当必须将整个账本在**属于通道成员的组织**中保密时，使用**channels**比较合适。
- 当账本必须共享给一些组织，但是**只有其中的部分组织**可以在交易中使用这些数据的一部分或者全部时，使用**collections集合**比较合适。此外，由于**私有数据是点对点传播的**，而不是通过块传播的，所以**在交易数据必须对排序服务节点保密时，应该使用私有数据集合**。

